{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nexport const createGalleryCard = imgInfo =>{\n    return `\n    <li class=\"gallery_card\">\n        <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n            <img class=\"gallery_img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\"/>\n        </a>\n        <div class=\"img_info\">\n                <div class=\"info-item\">\n                    <p class=\"label\">Likes</p>\n                    <p class=\"value\">${imgInfo.likes}</p>\n                </div>\n                <div class=\"info-item\">\n                    <p class=\"label\">Views</p>\n                    <p class=\"value\">${imgInfo.views}</p>\n                </div>\n                <div class=\"info-item\">\n                    <p class=\"label\">Comments</p>\n                    <p class=\"value\">${imgInfo.comments}</p>\n                </div>\n                <div class=\"info-item\">\n                    <p class=\"label\">Downloads</p>\n                    <p class=\"value\">${imgInfo.downloads}</p>\n                </div>\n        </div>\n    </li>\n    `;\n}\n\nexport const lightbox = () => {\n    const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\nlightbox.refresh();\n};","import axios from 'axios';\n\n// export const fetchPhotosByQuery = query =>{\n//     return fetch(`https://pixabay.com/api/?key=49376861-d933ee90ccf66fe84851db78b&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n//             .then(response => {\n//                 if (!response){\n//                     throw new Error (response.status);\n//                 }\n//                 return response.json();\n//             });\n// }\nexport const fetchPhotosByQuery = async (query) =>{\n    try {\n        const response = await axios.get(\n            `https://pixabay.com/api/?key=49376861-d933ee90ccf66fe84851db78b&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n        );\n\n        return response.data; \n\n    } catch (error) {\n        console.error(error);\n        throw error;\n    }\n}","import \"izitoast/dist/css/iziToast.min.css\";\nimport {createGalleryCard, lightbox} from './js/render-functions';\nimport {fetchPhotosByQuery} from './js/pixabay-api'\nimport iziToast from \"izitoast\";\n\nconst refs = {\n    form: document.querySelector('form'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n}\nconst showLoader = () => {\n    refs.loader.style.display = 'block';\n};\n\nconst hideLoader = () => {\n    refs.loader.style.display = 'none';\n};\nconst onSearchFormSubmit = event =>{\n    event.preventDefault();\n\n    const search = event.currentTarget.elements[\"search-text\"].value.trim();\n    if (search === '') {\n        iziToast.warning({\n            title: 'Warning',\n            message: 'Input must contain letters!',\n            position: 'topRight',\n        });\n        return;\n    }\n    \n    showLoader();\n\n    fetchPhotosByQuery(search)\n        .then(({hits}) => {\n            if (hits.length === 0){\n                iziToast.info({\n                    title: 'Info',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                    timeout: 5000, \n                });\n            \n                refs.form.reset();\n                refs.gallery.innerHTML = ''; \n                return;\n            \n            }\n            const galleryCard = hits.map(img => createGalleryCard(img)).join('');\n            refs.gallery.innerHTML = galleryCard;\n\n            lightbox();\n\n        })\n        .catch(err => {\n            console.log(err);\n        })\n        .finally(() => {\n            hideLoader();\n        });\n};\n\nrefs.form.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCard","imgInfo","lightbox","SimpleLightbox","fetchPhotosByQuery","query","axios","error","refs","showLoader","hideLoader","onSearchFormSubmit","event","search","iziToast","hits","galleryCard","img","err"],"mappings":"owBACO,MAAMA,EAAoBC,GACtB;AAAA;AAAA,wCAE6BA,EAAQ,aAAa;AAAA,4CACjBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uCAK/CA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,uCAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,uCAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,uCAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,MAO3CC,EAAW,IAAM,CACT,IAAIC,EAAe,aAAc,CAClD,aAAc,MACd,aAAc,GAClB,CAAC,EACQ,QAAO,CAChB,ECxBaC,EAAqB,MAAOC,GAAS,CAC9C,GAAI,CAKA,OAJiB,MAAMC,EAAM,IACzB,qEAAqED,CAAK,0DACtF,GAEwB,IAEnB,OAAQE,EAAO,CACZ,cAAQ,MAAMA,CAAK,EACbA,CACT,CACL,EClBMC,EAAO,CACT,KAAM,SAAS,cAAc,MAAM,EACnC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EACMC,EAAa,IAAM,CACrBD,EAAK,OAAO,MAAM,QAAU,OAChC,EAEME,EAAa,IAAM,CACrBF,EAAK,OAAO,MAAM,QAAU,MAChC,EACMG,EAAqBC,GAAQ,CAC/BA,EAAM,eAAc,EAEpB,MAAMC,EAASD,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OACjE,GAAIC,IAAW,GAAI,CACfC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,8BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDL,IAEAL,EAAmBS,CAAM,EACpB,KAAK,CAAC,CAAC,KAAAE,CAAI,IAAM,CACd,GAAIA,EAAK,SAAW,EAAE,CAClBD,EAAS,KAAK,CACV,MAAO,OACP,QAAS,2EACT,SAAU,WACV,QAAS,GAC7B,CAAiB,EAEDN,EAAK,KAAK,QACVA,EAAK,QAAQ,UAAY,GACzB,MAEH,CACD,MAAMQ,EAAcD,EAAK,IAAIE,GAAOjB,EAAkBiB,CAAG,CAAC,EAAE,KAAK,EAAE,EACnET,EAAK,QAAQ,UAAYQ,EAEzBd,GAEZ,CAAS,EACA,MAAMgB,GAAO,CACV,QAAQ,IAAIA,CAAG,CAC3B,CAAS,EACA,QAAQ,IAAM,CACXR,GACZ,CAAS,CACT,EAEAF,EAAK,KAAK,iBAAiB,SAAUG,CAAkB"}